sudo: false

services: docker

language: cpp

stages:
 - build 
 - test
 - deploy

jobs:
  include:
  - stage: build
    script: docker-compose build

  - stage: test
    script: 
      - docker run -d --entrypoint ./Server/test.sh
      - docker run -d --entrypoint ./client/test.sh

  - stage: deploy
    script: echo " ... deploy ... "

branches:
  only:
    - master
