#pragma once

#include "request.h"

#include <vector>

class GameState
{
public:
    GameState();

    QByteArray handle(const Request& request);

protected:
    QByteArray handleLobby(const Request& request);
    QByteArray handleGame(const Request& request);

    QJsonObject toAction(const QString& name);

    void gameJoin(const QJsonObject& request);
    void gameStart();
    void turnStart();
    void turnEnd();
    void rollDice();

    int turn;
    std::vector<QString> playerNames;
    std::vector<QJsonObject> actions;
};
